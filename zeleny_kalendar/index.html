<html>

<head>

    <meta charset="UTF-8">
    <meta name="author" content="Viktoria Vargicova">
    <meta name="keywords" content="Zeleny kalendar, enviro, enviroment, za ludi, organizacia, ECO, ecologia">
    <meta name="description" content="Po slovensku su rozne akcie a dobrovolne pomoci. Zapoj sa aj ty!">

    <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:300&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/zeleny_kalendar/index.css">
    <script src="/zeleny_kalendar/index.js"></script>
    
    </style>

</head>

<body>

    <ul class="menu-background">
        <li class="menu"><span class="li-logo">Enviro-up</span></li>
        <li class="menu"><a class="priprava" href="http://enviro-up.netlify.com/">Domov</a></li>
        <li class="menu"><a class="ene" href="/packs">Packs</a></li>
        <li class="menu"><a class="poda" href="/zeleny_kalendar">Zeleny kalendar</a></li>
    </ul>

<div class="info-background">

  <!-- calendar -->

  <div class="info-name">Zeleny kalendar</div>
  <div class="info-kalendar-background">
    <div class="info-kalendar">
      <div class="info-kalendar-month" id="calendar-name">
        Meno Mesiacu
      </div>
      <div class="info-kalendar-top">
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Pondelok</div></div>
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Utorok</div></div>
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Streda</div></div>
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Stvrtok</div></div>
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Piatok</div></div>
        <div class="info-kalendar-7th info-kalendar-7th-border"><div class="info-kalendar-top-name">Sobota</div></div>
        <div class="info-kalendar-7th"><div class="info-kalendar-top-name">Nedela</div></div>
      </div>
      <div class="info-kalendar-bottom" id="calendar-background"></div>
    </div>
  </div>

  <!-- organizations with the days -->

  <div class="info-org-background" id="event-background">
    <div class="info-org-background-name"></div>lizsie info k udalostiam:</div>


    <!-- <div class="info-org-half">
      <div class="info-org-inner-top">
        <div class="info-org-inner-top-name">1.9.2019</div>
      </div> 
      <div class="info-org-inner-bottom">
        <div class="info-org-inner-bottom-event">Upratovanie Dunaja</div>
        <div class="info-org-inner-bottom-org">organizacia: TeamTree.org</div>
        <div class="info-org-inner-bottom-info">reee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee eee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee eee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee</div>
      </div>
    </div> -->


  </div>

</div>

<!-- organizations -->

<div class="org-background">
  <div class="org-background-name">
    Vyhladat Organizaciu
  </div>

  <div class="choose-background">
    <!-- kategorie -->
    <div class="choose-inner">
        <div class="choose-name">Sidlo:</div>

        <select class="choose-select" id="pack-select">
          <option>Bratislavsky kraj</option>
          <option>Trnavsky kraj</option>
          <option>Trenciansky kraj</option>
          <option>Nitriansky kraj</option>
          <option>Zilinsky kraj</option>
          <option>Banskobystricky kraj</option>
          <option>Presovsky kraj</option>
          <option>Kosicky kraj</option>
          <option>2 a viac krajov</option>
          <option>Internet</option>
        </select>
    
    </div>

    <!-- sidlo -->
    <div class="choose-inner">
        <div class="choose-name">Kategoria:</div>

        <select class="choose-select" id="pack-select">
          <option>Jedlo</option>
          <option>Odpad</option>
          <option>Elektrina</option>
          <option>Ovzdusie</option>
          <option>Biodiverzita</option>
          <option>Voda</option>
          <option>Poda</option>
          <option>Info</option>
        </select>
    
    </div>

    <div class="choose-inner" style="padding-top:40px;">
        <div class="choose-button" onclick="create_div()"><span class="delicious">HÄ½ADAT</span></div>
    </div>

  </div>

  <div id="THE_DIV">




    <div class="org-choose-background" id="org">
      <div class="org-choose-top" id="top">
        <div class="org-choose-top-name" id="org-top-name">Harabin Smiesky</div>
        <div class="org-choose-top-image" id="org-top-image">
          <img class="org-choose-top-image-src" id="org-top-image-src" src="https://m.smedata.sk/api-media/media/image/sme/3/40/4035093/4035093_240x240.jpeg?rev=4">
        </div>
      </div>
      <div class="org-choose-bottom">
        <div id="org-text">
          <div class="org-choose-bottom-text-name">Info:</div>
          <div class="org-choose-bottom-text" id="org-bottom-text">Sak video klipy  od neho hovoria sami za seba. JA SOM VY-HRAL!!</div>    
        </div>
          <div>
            <div class="org-choose-bottom-image">
              <img id="org-bottom-image" src="https://m.smedata.sk/api-media/media/image/sme/3/40/4035093/4035093_240x240.jpeg?rev=4" class="org-choose-bottom-image-src" id="image">
            </div>
            <div class="org-choose-bottom-image">
              <a href="" id="org-bottom-link"><div class="org-choose-bottom-button">Navstivit</div></a>
            </div>
          </div>

      </div>
    </div>




    </div>

  </div>

</body>

</html>


<script>

// the calendar

  // the Date valuables
var year = (new Date()).getFullYear();
var days = new Date(year, (new Date).getMonth() + 1, 0).getDate();
const monthNames = ["Januar", "Februar", "Marec", "April", "Maj", "Jun", "Jul", "August", "September", "Oktober", "November", "December"];
var month_num = (new Date()).getMonth();
console.log(days + ", " + year);

  // the Event valuables
  var a_day = "<div class=\"info-kalendar-7th-day\"><div class=\"info-kalendar-bottom-day\" id=\"day\"></div></div>";
  var a_event ="<div class=\"info-org-half\"><div class=\"info-org-inner-top\"><div class=\"info-org-inner-top-name\" id=\"event-date\">dd.mm.rrrr</div></div><div class=\"info-org-inner-bottom\"><div class=\"info-org-inner-bottom-event\" id=\"event-name\">Upratovanie Dunaja</div><div class=\"info-org-inner-bottom-org\"><a id=\"event-org\" href=\"\">TeamTree.org</a></div><div class=\"info-org-inner-bottom-info\" id=\"event-text\">reee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee eee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee eee eeee eeee eee eee eeee eeeee eeee eeeeee eee eeeee eeee eee</div></div></div>";
  var Org = "";
  var Events = "";

  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
      if (this.readyState == 4 && this.status == 200) {
          var response = JSON.parse(this.responseText);
          Events = response.events;
          Org = response.org;
      };
  };

  xhttp.open("GET", "events.json", true);
  xhttp.send();

  // the month name
document.getElementById("calendar-name").innerHTML = monthNames[month_num];

document.getElementById("calendar-background").innerHTML = "";

var date = new Date(year, month_num, 1);
var daysNames = ['Nedela', 'Pondelok', 'Utorok', 'Streda', 'Stvrtok', 'Piatok', 'Sobota'];
start_day = daysNames[date.getDay()];

if(start_day != 'Pondelok'){
  if(start_day != 'Nedela'){
    for(var i; i < start_day - 1; i++){
      document.getElementById("calendar-background").innerHTML += a_day;
      document.getElementById("day").classList.add("info-kalendar-bottom-day-dead");
      document.getElementById("day").id = "dead-day " + i;
    }
  }
  else{
    for(var i = 0; i < 6; i++){
      document.getElementById("calendar-background").innerHTML += a_day;
      document.getElementById("day").classList.add("info-kalendar-bottom-day-dead");
      document.getElementById("day").id = "dead-day " + i;
    }
  }
}

for(var i = 0; i<days; i++){
  document.getElementById("calendar-background").innerHTML += a_day;
  document.getElementById("day").innerHTML = i + 1;

  if((i + 1) == Events[i].day && month_num + 1 == Events[i].month && year == Events[i].year){
    document.getElementById("day").style.backgroundColor = "background-color:rgb(174, 255, 167);";
    create_event(Events[i].day, Events[i].month, Events[i].year, Events[i].org, Events[i].name, Events[i].link, Events[i].text, i)
  }

  document.getElementById("day").id += i + 1;
}


// the event function
function create_event(day, month, year, org, name, link, text, i){
  document.getElementById("event-background").innerHTML += a_event;
  document.getElementById("event-date").innerHTML = day + "." + month + "." + year;
  document.getElementById("event-name").innerHTML = name;
  document.getElementById("event-org").innerHTML = "organizacia: " + org;
  document.getElementById("event-org").href = link;
  document.getElementById("event-text").innerHTML = text;

  document.getElementById("event-name").id += "-" + i;
  document.getElementById("event-date").id += "-" + i;
  document.getElementById("event-org").id += "-" + i;
  document.getElementById("event-text").id += "-" + i;
}

</script>